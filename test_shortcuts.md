# 快捷键功能测试指南

## 🎯 新增功能概览

### 1. 内容自动去重
- 相同内容只保留一份，按最新时间排序
- 重复复制相同内容时，会更新时间戳并移到顶部

### 2. 可配置的全局快捷键
- 在HTML界面中配置快捷键
- 支持自定义快捷键组合
- 可启用/禁用全局快捷键监听

## 新增的快捷键功能

### 1. 键盘导航
- **↑ (上箭头)**: 向上选择历史记录项
- **↓ (下箭头)**: 向下选择历史记录项
- 选中的项目会有蓝色边框和背景高亮

### 2. 操作快捷键
- **Enter**: 复制当前选中的项目到剪贴板
- **Ctrl+Enter**: 直接粘贴选中项到当前程序
- **Ctrl+V**: 直接粘贴选中项到当前程序
- **Delete** 或 **Backspace**: 删除当前选中的项目
- **Escape**: 取消选中状态

### 3. 快速选择
- **数字键 1-9**: 快速选择对应位置的历史记录项
  - 按 `1` 选择第一项
  - 按 `2` 选择第二项
  - 以此类推...

### 4. 组合键
- **Ctrl+C**: 复制当前选中的项目（与Enter相同）
- **Ctrl+A**: 选择第一项
- **F5**: 刷新历史记录列表

### 5. 鼠标操作
- **单击**: 选择项目
- **双击**: 复制项目到剪贴板（保持原有功能）
- **右键**: 显示上下文菜单（复制/粘贴/删除）

### 6. 新增粘贴功能 🆕
- **直接粘贴**: 将选中内容直接粘贴到当前活动程序
- **自动隐藏**: 粘贴后可选择自动隐藏窗口
- **降级处理**: 如果粘贴失败，自动降级为复制功能

## 🔧 快捷键配置功能

### 配置全局快捷键
1. 点击界面底部的"快捷键设置"按钮
2. 在弹出的配置窗口中：
   - 点击快捷键输入框
   - 按下您想要的快捷键组合（如 Ctrl+Shift+V）
   - 勾选"启用全局快捷键"
   - 点击"保存设置"

### 推荐的快捷键组合
- **Ctrl+Shift+V**：经典的剪贴板管理器快捷键
- **Ctrl+`**：使用反引号，不易冲突
- **Ctrl+Alt+V**：另一个常用组合
- **Win+V**：Windows 10/11 风格（注意可能与系统冲突）

## 测试步骤

### 基础功能测试
1. 启动应用程序
2. 复制一些文本内容到剪贴板，让历史记录中有数据
3. 测试以下功能：

### 去重功能测试
1. 复制相同的文本内容多次
2. 观察历史记录中是否只保留一份
3. 检查时间戳是否更新为最新时间
4. 确认重复项移动到列表顶部

### 基本导航测试
- 使用上下箭头键在列表中导航
- 观察选中项目的视觉反馈（蓝色边框）

### 复制功能测试
- 选中一个项目，按Enter键
- 检查是否成功复制到剪贴板
- 尝试Ctrl+C快捷键

### 删除功能测试
- 选中一个项目，按Delete键
- 确认项目被删除且列表更新

### 快速选择测试
- 按数字键1-9快速选择对应项目
- 验证选中状态正确

### 直接粘贴功能测试 🆕
1. 选中一个历史记录项
2. 打开一个文本编辑器（如记事本）
3. 回到剪贴板程序，按 Ctrl+Enter 或 Ctrl+V
4. 观察内容是否直接粘贴到文本编辑器中
5. 检查程序是否自动隐藏（可选）

### 右键菜单测试 🆕
1. 右键点击任意历史记录项
2. 测试"复制到剪贴板"选项
3. 测试"直接粘贴"选项
4. 测试"删除记录"选项
5. 点击其他地方或按ESC关闭菜单

### 边界情况测试
- 在空列表时按快捷键
- 在列表末尾时按下箭头
- 在列表开头时按上箭头

## 用户界面改进

- 添加了快捷键提示区域，显示主要快捷键
- 选中项目有明显的视觉反馈
- 保持了原有的双击复制功能

## 注意事项

- 确保应用程序窗口有焦点才能接收键盘事件
- 快捷键不会与系统快捷键冲突
- 删除操作是即时的，没有确认对话框
